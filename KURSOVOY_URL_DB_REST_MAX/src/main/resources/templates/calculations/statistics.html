<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout}">
<head>
    <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ä–∞—Å—á–µ—Ç—ã</title>
</head>
<body>

<div layout:fragment="content">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ä–∞—Å—á–µ—Ç—ã</h1>
        <a th:href="@{/}" class="btn btn-secondary">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="row">
        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–Ω–∏–≥:</strong>
                        <span class="float-end text-success" th:text="|${#numbers.formatDecimal(totalBooks, 1, 2)} ‚ÇΩ|"></span>
                    </div>
                    <div class="mb-3">
                        <strong>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –∫–Ω–∏–≥–∏:</strong>
                        <span class="float-end" th:text="|${#numbers.formatDecimal(averagePrice, 1, 2)} ‚ÇΩ|"></span>
                    </div>
                    <div class="mb-3">
                        <strong>–ì–æ–¥–æ–≤–æ–π –æ–±–æ—Ä–æ—Ç (–ø—Ä–æ–≥–Ω–æ–∑):</strong>
                        <span class="float-end text-info" th:text="|${#numbers.formatDecimal(annualTurnover, 1, 2)} ‚ÇΩ|"></span>
                    </div>
                    <div class="mb-0">
                        <strong>–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å (–ø—Ä–æ–≥–Ω–æ–∑):</strong>
                        <span class="float-end text-success" th:text="|${#numbers.formatDecimal(profitability, 1, 2)} ‚ÇΩ|"></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6 mb-4">
            <div class="card h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">üìö –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</h5>
                </div>
                <div class="card-body">
                    <div th:if="${mostExpensiveBook != null}" class="mb-3">
                        <strong>–°–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è –∫–Ω–∏–≥–∞:</strong>
                        <div class="float-end text-end">
                            <span th:text="${mostExpensiveBook.title}"></span><br>
                            <small class="text-danger" th:text="|${#numbers.formatDecimal(mostExpensiveBook.price, 1, 2)} ‚ÇΩ|"></small>
                        </div>
                    </div>
                    <div th:if="${cheapestBook != null}">
                        <strong>–°–∞–º–∞—è –¥–µ—à–µ–≤–∞—è –∫–Ω–∏–≥–∞:</strong>
                        <div class="float-end text-end">
                            <span th:text="${cheapestBook.title}"></span><br>
                            <small class="text-success" th:text="|${#numbers.formatDecimal(cheapestBook.price, 1, 2)} ‚ÇΩ|"></small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º -->
    <div class="row">
        <div class="col-12 mb-4">
            <div class="card">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">üè™ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞–º</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>–ú–∞–≥–∞–∑–∏–Ω</th>
                                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥</th>
                                <th>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</th>
                                <th>–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="store : ${booksPerBookstore}">
                                <td th:text="${store.key}"></td>
                                <td th:text="${store.value}"></td>
                                <td th:text="|${#numbers.formatDecimal(valuePerBookstore.get(store.key), 1, 2)} ‚ÇΩ|"></td>
                                <td th:text="|${#numbers.formatDecimal(averagePricePerBookstore.get(store.key), 1, 2)} ‚ÇΩ|"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–≤—Ç–æ—Ä–∞–º -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0">‚úçÔ∏è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–≤—Ç–æ—Ä–∞–º</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div th:each="author : ${booksPerAuthor}" class="col-md-4 mb-2">
                            <div class="d-flex justify-content-between">
                                <span th:text="${author.key}"></span>
                                <span class="badge bg-primary" th:text="${author.value}"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å—á–µ—Ç–∞—Ö -->
    <div class="card mt-4">
        <div class="card-header bg-light">
            <h6 class="mb-0">‚ÑπÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ —Ä–∞—Å—á–µ—Ç–∞–º</h6>
        </div>
        <div class="card-body">
            <small class="text-muted">
                ‚Ä¢ –ì–æ–¥–æ–≤–æ–π –æ–±–æ—Ä–æ—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ 5-–∫—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –∫–Ω–∏–≥<br>
                ‚Ä¢ –†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ 30% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–Ω–∏–≥<br>
                ‚Ä¢ –í—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã —è–≤–ª—è—é—Ç—Å—è –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã–º–∏
            </small>
        </div>
    </div>
</div>

</body>
</html>